<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explore the increasing computational demands of large datasets • morphoBlocks</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Explore the increasing computational demands of large datasets">
<meta property="og:description" content="morphoBlocks">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">morphoBlocks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/morphoBlocksMethods.html">Comparison between PCA and RCPCA using simulated data</a>
    </li>
    <li>
      <a href="../articles/penguinWings.html">Constructing a morphospace for a partial-wing skeleton</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Downloads
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../downloads/morphoBlocks.pdf">PDF manual</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/aharmer/morphoBlocks">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="datasetSize_files/header-attrs-2.10/header-attrs.js"></script><script src="datasetSize_files/kePrint-0.0.1/kePrint.js"></script><link href="datasetSize_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Explore the increasing computational demands of large datasets</h1>
                        <h4 class="author">Daniel B. Thomas</h4>
            
            <h4 class="date">2021-10-27</h4>
      
      
      <div class="hidden name"><code>datasetSize.Rmd</code></div>

    </div>

    
    
<p> </p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>A shape analysis using multiple elements may want to study partial skeletons from a few tens of specimens, or whole skeletons from hundreds of specimens. Increasing the number of blocks or specimens can increase the amount of time required to calculate a multiple-element morphospace. This vignette walks through a series of increasingly larger datasets to allow a user to test how long an analysis will take in a particular environment (e.g. on their local machine). As the user will discover, principal component analysis on the concatenated superblock will always be much quicker than Regularised Consensus Principal Component Analysis on complete list of blocks. RCPCA and PCA can produce very similar distributions of scores. To discover the specific value of RCPCA (i.e. block-level loading of variation) we recommend exploring vignette(“penguinWings”). Here though, we enable a user to explore the increasing computational demands of larger datasets.</p>
<p> </p>
</div>
<div id="model-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#model-dataset" class="anchor"></a>Model dataset</h2>
<p>Five datasets will be constructed using <code>dodecBlock</code>. Datasets comprise <em>i</em> specimens with variables distributed across <em>j</em> blocks. Each block in a specimen will contain 60 variables. For example, a specimen with 600 variables will comprise <em>j = 10</em> blocks.</p>
<p>   </p>
<table class="table  lightable-classic">
<caption>
Table 1. Number of specimens <i>(i)</i> and blockcs <i>(j)</i> in each of the model datasets.
</caption>
<thead><tr>
<th style="text-align:center;font-weight: bold;">
Dataset
</th>
<th style="text-align:center;font-weight: bold;">
Specimens
</th>
<th style="text-align:center;font-weight: bold;">
Blocks
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
50
</td>
<td style="text-align:center;">
50
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
200
</td>
<td style="text-align:center;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
50
</td>
<td style="text-align:center;">
206
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
200
</td>
<td style="text-align:center;">
206
</td>
</tr>
</tbody>
</table>
<p>   </p>
<p>This vignette includes functions for measuring how long a section of code takes to run. To measure this duration we start by recording the system time at the beginning of a section of code with <code>start_time &lt;- Sys.time()</code>, followed by <code>end_time &lt;- Sys.time()</code> at the end of our section of code. The duration for that section of code is thus given by <code>end_time - start_time</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">morphoBlocks</span><span class="op">)</span>
<span class="co">#&gt; Registered S3 method overwritten by 'spdep':</span>
<span class="co">#&gt;   method   from</span>
<span class="co">#&gt;   plot.mst ape</span>

<span class="co"># Start time</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Generate dataset 1</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>

<span class="co"># Specify the number of samples</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">10</span>

<span class="co"># Specify the number of blocks</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fl">10</span>

<span class="co"># Create an empty list in which to store the dataset</span>
<span class="va">dataset.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Generate the blocks for the dataset</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">j</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">dataset.1</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dodecBlock.html">dodecBlock</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="co"># Duration</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.04399586 secs</span>


<span class="co"># Repeat for each of the datasets</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">50</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fl">50</span>
<span class="va">dataset.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">j</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">dataset.2</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dodecBlock.html">dodecBlock</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.6849971 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">200</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">dataset.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">j</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">dataset.3</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dodecBlock.html">dodecBlock</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.5269651 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">50</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fl">206</span>
<span class="va">dataset.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">j</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">dataset.4</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dodecBlock.html">dodecBlock</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 3.043032 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">200</span>
<span class="va">j</span> <span class="op">&lt;-</span> <span class="fl">206</span>
<span class="va">dataset.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">j</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">dataset.5</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dodecBlock.html">dodecBlock</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 10.84398 secs</span></code></pre></div>
<p> </p>
</div>
<div id="format-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#format-datasets" class="anchor"></a>Format datasets</h2>
<p>Format each dataset into a block-class object using <code>formatBlock.</code> The blocks will be scaled using normalised centroid size scaling.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Format and scale dataset 1</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">block.list.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineBlocks.html">combineBlocks</a></span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">dataset.1</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.00500083 secs</span>

<span class="co"># Repeat for each of the datasets</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">block.list.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineBlocks.html">combineBlocks</a></span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">dataset.2</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.4789999 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">block.list.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineBlocks.html">combineBlocks</a></span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">dataset.3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.04299903 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">block.list.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineBlocks.html">combineBlocks</a></span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">dataset.4</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 6.428 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">block.list.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineBlocks.html">combineBlocks</a></span><span class="op">(</span>blocks <span class="op">=</span> <span class="va">dataset.5</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 29.36697 secs</span></code></pre></div>
<p> </p>
</div>
<div id="analyse-datasets-with-pca-and-rcpca" class="section level2">
<h2 class="hasAnchor">
<a href="#analyse-datasets-with-pca-and-rcpca" class="anchor"></a>Analyse datasets with PCA and RCPCA</h2>
<p>Use <code>analyseBlocks</code> to perform principal component analysis (PCA) and Regularized Consensus Principal Component Analysis (RCPCA) on each dataset. Compare the results by plotting the scores for global components one and two from the RCPCA, and the scores for principal components one and two from the PCA.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Perform PCA on dataset 1</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.pca.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.1</span>, option <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.002001047 secs</span>

<span class="co"># Perform RCPCA on dataset 1</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.rcpca.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.1</span>, option <span class="op">=</span> <span class="st">"rcpca"</span>, ncomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.127995 secs</span>

<span class="co"># Plot the scores from each analysis</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.pca.1</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.1</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.rcpca.1</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.1</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, consensus.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="datasetSize_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Repeat for dataset 2</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.pca.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.2</span>, option <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.02202797 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.rcpca.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.2</span>, option <span class="op">=</span> <span class="st">"rcpca"</span>, ncomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 5.571981 secs</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.pca.2</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.2</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.rcpca.2</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.2</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, consensus.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="datasetSize_files/figure-html/unnamed-chunk-4-2.png" width="700"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Repeat for dataset 3</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.pca.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.3</span>, option <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.08500004 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.rcpca.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.3</span>, option <span class="op">=</span> <span class="st">"rcpca"</span>, ncomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.986032 secs</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.pca.3</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.3</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.rcpca.3</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.3</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, consensus.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="datasetSize_files/figure-html/unnamed-chunk-4-3.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Repeat for dataset 4</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.pca.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.4</span>, option <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 0.100033 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.rcpca.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.4</span>, option <span class="op">=</span> <span class="st">"rcpca"</span>, ncomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 48.948 secs</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.pca.4</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.4</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.rcpca.4</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.4</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, consensus.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="datasetSize_files/figure-html/unnamed-chunk-4-4.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Repeat for dataset 5</span>
<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.pca.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.5</span>, option <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 1.737001 secs</span>

<span class="va">start_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">result.rcpca.5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyseBlocks.html">analyseBlocks</a></span><span class="op">(</span><span class="va">block.list.5</span>, option <span class="op">=</span> <span class="st">"rcpca"</span>, ncomp <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">end_time</span> <span class="op">-</span> <span class="va">start_time</span>
<span class="co">#&gt; Time difference of 1.346184 mins</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.pca.5</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.5</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/scoresPlot.html">scoresPlot</a></span><span class="op">(</span><span class="va">result.rcpca.5</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plabels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">block.list.5</span><span class="op">@</span><span class="va">n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, consensus.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="datasetSize_files/figure-html/unnamed-chunk-4-5.png" width="700"></p>
<p> </p>
</div>
<div id="concluding-remarks" class="section level2">
<h2 class="hasAnchor">
<a href="#concluding-remarks" class="anchor"></a>Concluding remarks</h2>
<p>Functions in <em>morphoBlocks</em> are capable of efficiently processing large datasets. This vignette enables a user to consider the scale of their own dataset with respect to their own computational environment. The datasets generated here produced essentially similar results from PCA compared with RCPCA. PCA is noticeably faster and may be a viable solution for many studies. Although not explored here, RCPCA does provide rich insight into the contribution of each block to the global components, and is therefore recommended over PCA if computational duration is not too burdensome.</p>
<p>   </p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Thomas, <a href="https://www.harmerlab.com/">Aaron Harmer</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
